<html>
  <head>
    <title>Pinch Strength Demo</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.js"></script>
    <script src="https://js.leapmotion.com/leap-0.6.4.js"></script>
    <script src="//js.leapmotion.com/leap-plugins-0.1.12.js"></script>
    <script src="//js.leapmotion.com/leap-widgets-0.1.0.js"></script>


    <style class="codepen">
		body{
		  font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif;
		}
		#output{
		  font-size: 66px;
		  color: #005d98;
		  text-align: left;
		  position: fixed;
		  bottom: 18px;
		}
		
		#progress {
		  background: #005d98;
		  position: fixed;
		  bottom: 0;
		  left: 0;
		  height: 16px;
		  width: 0%;
		}
		img#connect-leap{
		  /* this can be removed with leapjs-plugins 0.1.4.1 */
		  max-width: 100%;
		}
    </style>

  </head>

  <body>
    <div id=output></div>
    <div id=progress></div>
  </body>

  <script type="text/javascript">
	/********************************************************
	* This is the actual example part where we call pinchStrength
	*****************************************************/
	var output = document.getElementById('output'),
		progress = document.getElementById('progress'); 
	
	// Set up the controller:
	Leap.loop({background: true}, {

    hand: function(hand){
	  
		output.innerHTML = hand.pinchStrength.toPrecision(3);
		progress.style.width = hand.pinchStrength * 100 + '%';
	  
	}
  }).use('boneHand', {
          targetEl: document.body,
          jointColor: new THREE.Color(0xffffff),
          rendererOps: {antialias: true}
        })
        .use('proximity');
	  
    var camera = controller.plugins.boneHand.camera;
    camera.position.set(-8,8,20);
    camera.lookAt(new THREE.Vector3(0,0,0));

	
	
	/*********************************************************
	* End of the actual example
	****************************************************/
	
	
	/*********************************************************
	* The rest of the code is here for visualizing the example. Feel
	* free to remove it to experiment with the API value only
	****************************************************/
	
	// Adds the rigged hand and playback plugins
	// to a given controller, providing a cool demo.
	// visualizeHand = function(controller){
	  // The leap-plugin file included above gives us a number of plugins out of the box
	  // To use a plugins, we call `.use` on the controller with options for the plugin.
	  // See js.leapmotion.com/plugins for more info
	
	  // controller.use('playback', {
		 //  // This is a compressed JSON file of preprecorded frame data
		 //  recording: 'pinch-bones-3-57fps.json.lz',
		 //  // How long, in ms, between repeating the recording.
		 //  timeBetweenLoops: 1000,
		 //  pauseOnHand: true
	  // }).on('riggedHand.meshAdded', function(handMesh, leapHand){
		 //  handMesh.material.opacity = 1;
	  // });
	  
	  // var overlay = controller.plugins.playback.player.overlay;
	  // overlay.style.right = 0;
	  // overlay.style.left = 'auto';
	  // overlay.style.top = 'auto';
	  // overlay.style.padding = 0;
	  // overlay.style.bottom = '13px';
	  // overlay.style.width = '180px';
	
	
	 //  controller
		// visualizeHand(Leap.loopController);
  </script>
</html>